(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8aa6fc82"],{"85a9":function(e,t,r){"use strict";var a=r("b775"),s=r("2a11");t["a"]={getCaptcha:function(){return Object(a["a"])({method:s["a"].GET,url:"/captcha/captcha/redis"})},verify:function(e){return Object(a["a"])({method:s["a"].POST,url:"/captcha/verify/redis",data:e})}}},ab97:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"formData",attrs:{model:e.registerUser,"label-width":"400px"}},[r("el-form-item",{attrs:{label:"用户名"}},[r("el-input",{model:{value:e.registerUser.username,callback:function(t){e.$set(e.registerUser,"username",t)},expression:"registerUser.username"}})],1),r("el-form-item",{attrs:{label:"密码"}},[r("el-input",{model:{value:e.registerUser.password,callback:function(t){e.$set(e.registerUser,"password",t)},expression:"registerUser.password"}})],1),r("el-form-item",{attrs:{label:"手机号"}},[r("el-input",{model:{value:e.registerUser.phone,callback:function(t){e.$set(e.registerUser,"phone",t)},expression:"registerUser.phone"}})],1),r("el-form-item",{attrs:{label:"qq"}},[r("el-input",{model:{value:e.registerUser.qq,callback:function(t){e.$set(e.registerUser,"qq",t)},expression:"registerUser.qq"}})],1),r("el-form-item",{attrs:{label:"wx"}},[r("el-input",{model:{value:e.registerUser.wx,callback:function(t){e.$set(e.registerUser,"wx",t)},expression:"registerUser.wx"}})],1),r("el-row",[r("el-col",{attrs:{span:18}},[r("el-form-item",{attrs:{prop:"captcha"}},[r("el-input",{attrs:{clearable:"",placeholder:"验证码","auto-complete":"on",type:"text","prefix-icon":"el-icon-picture-outline-round"},model:{value:e.registerCaptcha.code,callback:function(t){e.$set(e.registerCaptcha,"code",t)},expression:"registerCaptcha.code"}})],1)],1),r("el-col",{attrs:{span:6}},[r("div",{staticClass:"captcha-wrapper",attrs:{title:"刷新验证码"},on:{click:e.getCaptcha}},[e.captcha.image?r("el-image",{staticClass:"captcha",attrs:{src:e.captcha.image}}):e._e()],1)])],1),r("el-form-item",[r("el-button",{on:{click:e.register}},[e._v("注册")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"login"})}}},[e._v("去登录")])],1)],1)],1)},s=[],c=r("5530"),n=r("1da1"),i=(r("96cf"),r("85a9")),o=r("c24f"),l={name:"index",data:function(){return{registerUser:{},registerCaptcha:{},captcha:{}}},created:function(){this.getCaptcha()},methods:{register:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("验证码验证"),t.prev=1,t.next=4,i["a"].verify(Object(c["a"])({},e.registerCaptcha));case 4:t.next=10;break;case 6:return t.prev=6,t.t0=t["catch"](1),console.error("验证码验证失败"),t.abrupt("return");case 10:return console.log(e.registerUser),t.prev=11,t.next=14,o["a"].registry(e.registerUser);case 14:return t.next=16,e.$router.push({name:"login"});case 16:t.next=21;break;case 18:t.prev=18,t.t1=t["catch"](11),e.$message.error("注册用户失败");case 21:case"end":return t.stop()}}),t,null,[[1,6],[11,18]])})))()},getCaptcha:function(){var e=this;i["a"].getCaptcha().then((function(t){e.captcha=t,e.registerCaptcha.id=e.captcha.id}))}}},p=l,u=r("2877"),g=Object(u["a"])(p,a,s,!1,null,"25fdc456",null);t["default"]=g.exports}}]);